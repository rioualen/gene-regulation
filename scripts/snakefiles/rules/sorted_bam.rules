"""
    =======================================
    Definition of the sorting rule bam file
    =======================================
"""

# rule sorted_bam_all:
#     """Sort each bamfiles"""
#     input:expand('{read_dir}/{gsm}/{gsm}_bowtie_sorted.bam', gsm = GSM_LIST, read_dir = CHIP_READ_DIR) 

rule sorted_bam:
    input: CHIP_READ_DIR + "{reads}.bam"
    output: CHIP_READ_DIR + "{reads}_sorted.bam"
    log: CHIP_READ_DIR + "{reads}_sorted.log"
    benchmark: CHIP_READ_DIR + "{reads}_sorted_benchmark.json"
    params: qsub = config["qsub"]+" -e " + CHIP_READ_DIR + "{reads}_sorted_qsub.err -o " + CHIP_READ_DIR + "{reads}_sorted_qsub.out"
    shell:"samtools sort {input} {wildcards.reads}_sorted 2> {log}"
